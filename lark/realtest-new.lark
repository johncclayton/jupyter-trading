%import common.WS
%import common.CPP_COMMENT
%import common.WS_INLINE
%import common.NEWLINE
%import common.SIGNED_NUMBER -> NUMBER

%ignore WS
%ignore WS_INLINE
%ignore CPP_COMMENT

start: section

section: "Data:" NEWLINE? declaration+

declaration: _TAB? identifier ":" _TAB expression NEWLINE
expression: indexed_expr (comparison_op indexed_expr)* CPP_COMMENT?
indexed_expr: base_expr ("[" NUMBER "]")?
base_expr: function_call | identifier | NUMBER | string_literal | stock_symbol
comparison_op: "<" | ">" | "<=" | ">=" | "==" | "<>" | "!=" 
function_call: identifier "(" arguments? ")"
arguments: expression ("," expression)*
identifier: /[a-zA-Z_][a-zA-Z0-9_]*/
string_literal: /\$\w+/
stock_symbol: /\$\$[A-Z_][A-Z0-9_]*/

_TAB: /\t/
